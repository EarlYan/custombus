<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="Aviators - byaviators.com">

    <link rel="shortcut icon" href="assets/img/favicon.png" type="image/png">
    <link rel="stylesheet" href="assets/css/bootstrap.css" type="text/css">
    <link rel="stylesheet" href="assets/css/bootstrap-responsive.css" type="text/css">
    <link rel="stylesheet" href="assets/libraries/chosen/chosen.css" type="text/css">
    <link rel="stylesheet" href="assets/libraries/bootstrap-fileupload/bootstrap-fileupload.css" type="text/css">
    <link rel="stylesheet" href="assets/libraries/jquery-ui-1.10.2.custom/css/ui-lightness/jquery-ui-1.10.2.custom.min.css" type="text/css">
    <link rel="stylesheet" href="assets/css/realia-blue.css" type="text/css" id="color-variant-default">
    <link rel="stylesheet" href="assets/css/jquery.seat-charts.css" type="text/css">
    <style type="text/css">
        #content a {
            color: #b71a4c;
        }
        .front-indicator {
            width: 145px;
            margin: 5px 32px 15px 32px;
            background-color: #f6f6f6;  
            color: #adadad;
            text-align: center;
            padding: 3px;
            border-radius: 5px;
        }
/*        #content .container {
            margin: 0 auto;
            width: 500px;
            text-align: left;
        }*/
        .booking-details {
            float: left;
            text-align: left;
            margin-left: 35px;
            font-size: 12px;
            position: relative;
            height: 401px;
        }
        .booking-details h2 {
            margin: 25px 0 20px 0;
            font-size: 17px;
        }
        .booking-details h3 {
            margin: 5px 5px 0 0;
            font-size: 14px;
        }
        div.seatCharts-cell {
            color: #182C4E;
            height: 25px;
            width: 25px;
            line-height: 25px;
            
        }
        div.seatCharts-seat {
            color: #FFFFFF;
            cursor: pointer;    
        }
        div.seatCharts-row {
            height: 35px;
        }
        div.seatCharts-seat.available {
            background-color: #B9DEA0;

        }
        div.seatCharts-seat.available.first-class {
        /*  background: url(vip.png); */
            background-color: #3a78c3;
        }
        div.seatCharts-seat.focused {
            background-color: #76B474;
        }
        div.seatCharts-seat.selected {
            background-color: #E6CAC4;
        }
        div.seatCharts-seat.unavailable {
            background-color: #ccc;
        }
        div.seatCharts-container {
            border-right: 1px dotted #adadad;
            width: 200px;
            padding: 20px;
            float: left;
        }
        div.seatCharts-legend {
            padding-left: 0px;
            bottom: 0;
        }
        ul.seatCharts-legendList {
            padding-left: 0px;
        }
        span.seatCharts-legendDescription {
            margin-left: 5px;
            line-height: 30px;
        }
        .checkout-button {
            display: block;
            margin: 10px 0;
            font-size: 14px;
        }
        #selected-seats {
            max-height: 200px;
            overflow-y: scroll;
            overflow-x: hidden;
            width: 170px;
        }
    </style>
    <title>定制巴士</title>
</head>
<body>
<div id="wrapper-outer" >
    <div id="wrapper">
        <div id="wrapper-inner">
            <!-- BREADCRUMB -->
            <div class="breadcrumb-wrapper">
                <div class="container">
                    <div class="row">
                        <div class="span12">
                            <ul class="breadcrumb pull-left">
                                <li><a href="index-slider.html">首页</a></li>
                            </ul><!-- /.breadcrumb -->

                            <div class="account pull-right">
                                <ul class="nav nav-pills">
                                    <li><a href="login.html">登录</a></li>
                                    <li><a href="registration.html">注册</a></li>
                                </ul>
                            </div>
                        </div><!-- /.span12 -->
                    </div><!-- /.row -->
                </div><!-- /.container -->
            </div><!-- /.breadcrumb-wrapper -->

            <!-- HEADER -->
            <div id="header-wrapper">
                <div id="header">
                    <div id="header-inner">
                        <div class="container">
                            <div class="navbar">
                                <div class="navbar-inner">
                                    <div class="row">
                                        <div class="logo-wrapper span4">
                                            <a href="#nav" class="hidden-desktop" id="btn-nav">Toggle navigation</a>

                                            <div class="logo">
                                                <a href="index-slider.html" title="Home">
                                                    <img src="assets/img/logo.png" alt="Home">
                                                </a>
                                            </div><!-- /.logo -->

                                            <div class="site-name">
                                                <a href="index-slider.html" title="Home" class="brand">互联网+定制巴士</a>
                                            </div><!-- /.site-name -->

                                        </div><!-- /.logo-wrapper -->

                                        <div class="info">
                                            <div class="site-email">
                                                <a href="mailto:ysuperpaul@gmail.com">ysuperpaul@gmail.com</a>
                                            </div><!-- /.site-email -->

                                            <div class="site-phone">
                                                <span>XXX-XXX-XX</span>
                                            </div><!-- /.site-phone -->
                                        </div><!-- /.info -->
                                        <a class="btn btn-primary btn-large list-your-property arrow-right" href="list-your-property.html">众筹你的路线</a>
                                    </div><!-- /.row -->
                                </div><!-- /.navbar-inner -->
                            </div><!-- /.navbar -->
                        </div><!-- /.container -->
                    </div><!-- /#header-inner -->
                </div><!-- /#header -->
            </div><!-- /#header-wrapper -->

            <!-- NAVIGATION -->
            <div id="navigation">
                <div class="container">
                    <div class="navigation-wrapper">
                        <div class="navigation clearfix-normal">

                            <ul class="nav">
                                <li class="menuparent">
                                    <li><a href="index-slider.html">首页</a></li>
                                </li>
                                <!-- <li class="menuparent">
                                    <span class="menuparent nolink">Pages</span>
                                    <ul>
                                        <li><a href="about-us.html">About us</a></li>
                                        <li><a href="our-agents.html">Our agents</a></li>
                                        <li><a href="faq.html">FAQ</a></li>
                                        <li><a href="shortcodes.html">Shortcodes</a></li>
                                        <li class="menuparent">
                                            <span class="menuparent nolink">Another level</span>
                                            <ul>
                                                <li><a href="contact-us.html">Contact Us</a></li><li><a href="http://www.17sucai.com">More theme</a></li>
                                                <li><a href="grid-system.html">Grid system</a></li>
                                                <li><a href="typography.html">Typography</a></li>
                                            </ul>
                                        </li>
                                        <li><a href="404.html">404 page</a></li>
                                    </ul>
                                </li> -->
                                <li class="menuparent">
                                    <li><a href="pricing-boxed.html">加入会员</a></li>
                                </li>
                                <li class="menuparent">
                                    <span class="menuparent nolink">公司介绍</span>
                                    <ul>
                                        <li><a href="about-us.html">关于我们</a></li>
                                        <li><a href="our-agents.html">我们团队</a></li>
                                        <li><a href="faq.html">FAQ</a></li>
                                    </ul>
                                </li>
                                <li><a href="contact-us.html">联系我们</a></li>
                            </ul><!-- /.nav -->
                        </div><!-- /.navigation -->
                    </div><!-- /.navigation-wrapper -->
                </div><!-- /.container -->
            </div><!-- /.navigation -->

            <!-- CONTENT -->
            <div id="content">
<div class="container">
    <div>
        <div id="main">
            <div class="our-agents-large">
    <h2 class="page-header">选择座位</h2>

    <div class="content">
        <div class="agent">
            <div class="row">
                <div id="seat-map">
                  <div class="front-indicator">车头</div>
                </div>
                <div class="booking-details">
                  <h3>已选中的座位 (<span id="counter">0</span>):</h3>
                  <ul id="selected-seats">
                  </ul>
                  <p>总价: <b>¥<span id="total">0</span></b></p>
                  <p><input type="button" class="btn btn-primary arrow-right checkout-button" value="结算"></p>    
                  <div id="legend"></div>
                </div>
            </div><!-- /.row -->
        </div><!-- /.agent -->

        
        
    </div><!-- /.content -->
</div><!-- /.our-agents -->        </div>
    </div>
</div>

    </div><!-- /#content -->
</div><!-- /#wrapper-inner -->

<div id="footer-wrapper">
    <div id="footer-top">
        <div id="footer-top-inner" class="container">
            <div class="row">
                <div class="widget properties span3">
                    <div class="title">
                        <h2>合作企业</h2>
                    </div><!-- /.title -->

                    <div class="content">
                        <div class="property">
                            <div class="image">
                                <a href="detail.html"></a>
                                <img src="assets/img/googlelogo.png" alt="">
                            </div><!-- /.image -->
                            <div class="wrapper">
                                <div class="title">
                                    <h3>
                                        <a href="https://www.google.com">Google</a>
                                    </h3>
                                </div><!-- /.title -->
                                <div class="location">1600 Amphitheatre Parkway</div><!-- /.location -->
                                <div class="price">Mountain View, CA 94043</div><!-- /.price -->
                            </div><!-- /.wrapper -->
                        </div><!-- /.property -->

                        <div class="property">
                            <div class="image">
                                <a href="detail.html"></a>
                                <img src="assets/img/microsoftlogo.png" alt="">
                            </div><!-- /.image -->
                            <div class="wrapper">
                                <div class="title">
                                    <h3>
                                        <a href="https://www.microsoft.com">Microsoft</a>
                                    </h3>
                                </div><!-- /.title -->
                                <div class="location">15700 NE 39th St</div><!-- /.location -->
                                <div class="price">Redmond, WA 98052</div><!-- /.price -->
                            </div><!-- /.wrapper -->
                        </div><!-- /.property -->

                        <div class="property">
                            <div class="image">
                                <a href="https://www.cisco.com/"></a>
                                <img src="assets/img/ciscologo.png" alt="">
                            </div><!-- /.image -->
                            <div class="wrapper">
                                <div class="title">
                                    <h3>
                                        <a href="detail.html">Cisco</a>
                                    </h3>
                                </div><!-- /.title -->
                                <div class="location">170 West Tasman Dr</div><!-- /.location -->
                                <div class="price">San Jose, CA 95134</div><!-- /.price -->
                            </div><!-- /.wrapper -->
                        </div><!-- /.property -->
                    </div><!-- /.content -->
                </div><!-- /.properties-small -->

                <div class="widget span3">
                    <div class="title">
                        <h2>联系我们</h2>
                    </div><!-- /.title -->

                    <div class="content">
                        <table class="contact">
                            <tbody>
                            <tr>
                                <th class="address">公司地址:</th>
                                <td>XX<br>上海, 松江区<br>中国<br></td>
                            </tr>
                            <tr>
                                <th class="phone">公司电话:</th>
                                <td>+86 XXXXXXXX</td>
                            </tr>
                            <tr>
                                <th class="email">公司邮件:</th>
                                <td><a href="mailto:ysuperpaul@gmail.com">ysuperpaul@gmail.com</a></td>
                            </tr>
                            <tr>
                                <th class="record">网站备案:</th>
                                <td>沪ICP备XXXXXXXX号</td>
                            </tr>
                            <tr>
                                <th class="gps">公司坐标:</th>
                                <td>121.204948<br>31.053888</td>
                            </tr>
                            </tbody>
                        </table>
                    </div><!-- /.content -->
                </div><!-- /.widget -->

                <div class="widget span3">
                    <div class="title">
                        <h2 class="block-title">友情链接</h2>
                    </div><!-- /.title -->

                    <div class="content">
                        <ul class="menu nav">
                            <li class="first leaf"><a href="http://qzone.qq.com/">QQ空间</a></li>
                            <li class="leaf"><a href="http://weibo.com/">新浪微博</a></li>
                            <li class="leaf"><a href="http://t.qq.com/">腾讯微博</a></li>
                            <li class="leaf"><a href="http://www.renren.com/">人人网</a></li>
                            <li class="leaf"><a href="http://www.kaixin001.com/">开心网</a></li>
                            <li class="leaf"><a href="http://tieba.baidu.com/">百度贴吧</a></li>
                            <li class="leaf"><a href="http://www.douban.com/">豆瓣网</a></li>                     
                        </ul>
                    </div><!-- /.content -->
                </div><!-- /.widget -->

                <div class="widget span3">
                    <div class="title">
                        <h2 class="block-title">留言在此</h2>
                    </div><!-- /.title -->

                    <div class="content">
                        <form method="post">
                            <div class="control-group">
                                <label class="control-label" for="inputName">
                                    姓名
                                    <span class="form-required" title="This field is required.">*</span>
                                </label>
                                <div class="controls">
                                    <input type="text" id="inputName">
                                </div><!-- /.controls -->
                            </div><!-- /.control-group -->

                            <div class="control-group">
                                <label class="control-label" for="inputEmail">
                                    邮件
                                    <span class="form-required" title="This field is required.">*</span>
                                </label>
                                <div class="controls">
                                    <input type="text" id="inputEmail">
                                </div><!-- /.controls -->
                            </div><!-- /.control-group -->

                            <div class="control-group">
                                <label class="control-label" for="inputMessage">
                                    留言
                                    <span class="form-required" title="This field is required.">*</span>
                                </label>

                                <div class="controls">
                                    <textarea id="inputMessage"></textarea>
                                </div><!-- /.controls -->
                            </div><!-- /.control-group -->

                            <div class="form-actions">
                                <input type="button" class="btn btn-primary arrow-right" value="留言" id="sendMessage">
                            </div><!-- /.form-actions -->
                        </form>
                    </div><!-- /.content -->
                </div><!-- /.widget -->
            </div><!-- /.row -->
        </div><!-- /#footer-top-inner -->
    </div><!-- /#footer-top -->

    <div id="footer" class="footer container">
        <div id="footer-inner">
            <div class="row">
                <div class="span6 copyright">
                    <p>© Copyright 2016 by More EarlYan. Click to visit my <a href="https://github.com/EarlYan" target="_blank" title="github">Github</a></p>
                </div>
            </div><!-- /.row -->
        </div><!-- /#footer-inner -->
    </div><!-- /#footer -->
</div><!-- /#footer-wrapper -->
</div><!-- /#wrapper -->
</div><!-- /#wrapper-outer -->

<script type="text/javascript" src="assets/js/jquery.js"></script>
<script type="text/javascript" src="assets/js/jquery.ezmark.js"></script>
<script type="text/javascript" src="assets/js/jquery.currency.js"></script>
<script type="text/javascript" src="assets/js/jquery.cookie.js"></script>
<script type="text/javascript" src="assets/js/retina.js"></script>
<script type="text/javascript" src="assets/js/bootstrap.min.js"></script>
<script type="text/javascript" src="assets/js/carousel.js"></script>
<script type="text/javascript" src="assets/libraries/jquery-ui-1.10.2.custom/js/jquery-ui-1.10.2.custom.min.js"></script>
<script type="text/javascript" src="assets/libraries/chosen/chosen.jquery.min.js"></script>
<script type="text/javascript" src="assets/libraries/iosslider/_src/jquery.iosslider.min.js"></script>
<script type="text/javascript" src="assets/libraries/bootstrap-fileupload/bootstrap-fileupload.js"></script>
<script type="text/javascript" src="assets/js/realia.js"></script>
<script type="text/javascript" src="assets/js/jquery.seat-charts.min.js"></script> 
<script>
            var firstSeatLabel = 1;
        
            $(document).ready(function() {
                var $cart = $('#selected-seats'),
                    $counter = $('#counter'),
                    $total = $('#total'),
                    sc = $('#seat-map').seatCharts({
                    map: [
                        'ee_ee',
                        'ee_ee',
                        'ee_ee',
                        'ee_ee',
                        'ee_ee',
                        'ee_ee',
                        'ee_ee',
                        'ee_ee',
                        'eeeee',
                    ],
                    seats: {
                        e: {
                            price   : 40,
                            classes : 'economy-class', //your custom CSS class
                            category: '未预定'
                        }                           
                    },
                    naming : {
                        top : false,
                        getLabel : function (character, row, column) {
                            return firstSeatLabel++;
                        },
                    },
                    legend : {
                        node : $('#legend'),
                        items : [
                            [ 'e', 'available',   '未预定'],
                            [ 'f', 'unavailable', '已预定']
                        ]                   
                    },
                    click: function () {
                        if (this.status() == 'available') {
                            $('<li>'+this.data().category+this.settings.label+'号座位'+'：<br/>价格：<b>¥'+this.data().price+'</b> <a class="cancel-cart-item">[删除]</a></li>')
                                .attr('id','cart-item-'+this.settings.id)
                                .data('seatId', this.settings.id)
                                .appendTo($cart);
                            $counter.text(sc.find('selected').length+1);
                            $total.text(recalculateTotal(sc)+this.data().price);
                            return 'selected';
                        } else if (this.status() == 'selected') {
                            //update the counter
                            $counter.text(sc.find('selected').length-1);
                            //and total
                            $total.text(recalculateTotal(sc)-this.data().price);
                        
                            //remove the item from our cart
                            $('#cart-item-'+this.settings.id).remove();
                        
                            //seat has been vacated
                            return 'available';
                        } else if (this.status() == 'unavailable') {
                            //seat has been already booked
                            return 'unavailable';
                        } else {
                            return this.style();
                        }
                    }
                });

                //this will handle "[cancel]" link clicks
                $('#selected-seats').on('click', '.cancel-cart-item', function () {
                    //let's just trigger Click event on the appropriate seat, so we don't have to repeat the logic here
                    sc.get($(this).parents('li:first').data('seatId')).click();
                });

                //let's pretend some seats have already been booked 
                
                // sc.get(['1_2','7_1', '7_2']).status('unavailable');
        
        });

        function recalculateTotal(sc) {
            var total = 0;
        
            //basically find every selected seat and sum its price
            sc.find('selected').each(function () {
                total += this.data().price;
            });
            
            return total;
        }
        //结算
        $('.checkout-button').on('click',function(){
            var price = $('#total').text();
            console.log(price);
            
        });
</script>
</body>
</html>